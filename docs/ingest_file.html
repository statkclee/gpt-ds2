<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ko-KR" xml:lang="ko-KR"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.552">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="이광춘">
<title>챗GPT 데이터 과학 - 25&nbsp; 파일 데이터</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./ingest_web.html" rel="next">
<link href="./ingest_database.html" rel="prev">
<link href="./images/logo.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "일치 없음",
    "search-matching-documents-text": "일치된 문서",
    "search-copy-link-title": "검색 링크 복사",
    "search-hide-matches-text": "추가 검색 결과 숨기기",
    "search-more-match-text": "추가 검색결과",
    "search-more-matches-text": "추가 검색결과",
    "search-clear-button-title": "제거",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "취소",
    "search-submit-button-title": "검색",
    "search-label": "검색"
  }
}</script><script type="text/javascript">

(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-229551680-1', 'auto');

ga('send', {
  hitType: 'pageview',
  'anonymizeIp': true,
});
</script><meta name="mermaid-theme" content="neutral">
<script src="site_libs/quarto-diagram/mermaid.min.js"></script><script src="site_libs/quarto-diagram/mermaid-init.js"></script><link href="site_libs/quarto-diagram/mermaid.css" rel="stylesheet">
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script><script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>
</head>
<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="사이드바 전환" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./ingest_database.html"><strong>7부</strong> 가져오기</a></li><li class="breadcrumb-item"><a href="./ingest_file.html"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">파일 데이터</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="사이드바 전환" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">챗GPT 데이터 과학</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/bit2r/gpt-ds" title="소스 코드" class="quarto-navigation-tool px-1" aria-label="소스 코드"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="리더 모드 전환">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="검색"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">서문</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text"><strong>1부</strong> 들어가며</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="토글 섹션">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">들어가며</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro_tidyverse.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">데이터 사이언스 운영체제</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro_whole_game.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">데이터 과학 맛보기</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro_penguins.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">펭귄 데이터셋</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text"><strong>2부</strong> 데이터 다루기</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="토글 섹션">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data_structure.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">자료구조</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dataframe.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">데이터프레임 탐색</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data_dplyr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title"><code>dplyr</code> 데이터프레임 조작</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data_tidyr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title"><code>tidyr</code> 데이터프레임 조작</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
 <span class="menu-text"><strong>3부</strong> 시각화</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="토글 섹션">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ggplot2_concept.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">그래프 문법</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ggplot2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">논문 품질 그래프 생성</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ggplot2_pattern.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">시각화 패턴</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
 <span class="menu-text"><strong>4부</strong> 모형</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="토글 섹션">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./models.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">모형의 세계로</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./models_building.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">모형 개발</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./models_many.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">많은 회귀모형</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./models_case_study.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">사례: 시군구 소멸</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">
 <span class="menu-text"><strong>5부</strong> 프로그래밍</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true" aria-label="토글 섹션">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./functions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">함수</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./function_plyr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">분할-적용-병합 전략</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./functions_ds.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">데이터 과학 함수</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./functions_purrr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">함수형 프로그래밍</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true">
 <span class="menu-text"><strong>6부</strong> 커뮤니케이션</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true" aria-label="토글 섹션">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./comm_quarto.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">쿼토</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./comm_knitr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">데이터 분석 보고서</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./comm_export.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">내보내기</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./comm_map.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">사례: 프로빅스 논문</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="true">
 <span class="menu-text"><strong>7부</strong> 가져오기</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="true" aria-label="토글 섹션">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ingest_database.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">데이터베이스</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ingest_file.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">파일 데이터</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ingest_web.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">웹 데이터</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ingest_spreadsheet.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">상용 데이터</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="true">
 <span class="menu-text"><strong>8부</strong> 챗GPT</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="true" aria-label="토글 섹션">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./gpt_python.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">28</span>&nbsp; <span class="chapter-title">챗GPT 환경 구축</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./gpt_prompt_ds.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">29</span>&nbsp; <span class="chapter-title">데이터 과학 프롬프트</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./gpt_interpreter.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">30</span>&nbsp; <span class="chapter-title">데이터프레임 분석</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./gpt_rtutor.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">31</span>&nbsp; <span class="chapter-title">AI 데이터 분석</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">참고문헌</span></a>
  </div>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">목차</h2>
   
  <ul>
<li>
<a href="#%EC%9C%A0%EB%8B%88%EC%BD%94%EB%93%9C%EC%99%80-utf-8" id="toc-유니코드와-utf-8" class="nav-link active" data-scroll-target="#%EC%9C%A0%EB%8B%88%EC%BD%94%EB%93%9C%EC%99%80-utf-8"><span class="header-section-number">25.1</span> 유니코드와 UTF-8</a>
  <ul class="collapse">
<li><a href="#%EC%9D%B8%EC%BD%94%EB%94%A9-%EB%AC%B8%EC%A0%9C" id="toc-인코딩-문제" class="nav-link" data-scroll-target="#%EC%9D%B8%EC%BD%94%EB%94%A9-%EB%AC%B8%EC%A0%9C"><span class="header-section-number">25.1.1</span> 인코딩 문제</a></li>
  <li><a href="#%EB%AC%B8%EC%9E%90-%EC%A7%91%ED%95%A9" id="toc-문자-집합" class="nav-link" data-scroll-target="#%EB%AC%B8%EC%9E%90-%EC%A7%91%ED%95%A9"><span class="header-section-number">25.1.2</span> 문자 집합</a></li>
  </ul>
</li>
  <li><a href="#%EC%95%84%EC%8A%A4%ED%82%A4-%ED%8C%8C%EC%9D%BC" id="toc-아스키-파일" class="nav-link" data-scroll-target="#%EC%95%84%EC%8A%A4%ED%82%A4-%ED%8C%8C%EC%9D%BC"><span class="header-section-number">25.2</span> 아스키 파일</a></li>
  <li><a href="#%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%9E%85%EB%A0%A5%EB%B0%A9%EC%8B%9D" id="toc-데이터-입력방식" class="nav-link" data-scroll-target="#%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%9E%85%EB%A0%A5%EB%B0%A9%EC%8B%9D"><span class="header-section-number">25.3</span> 데이터 입력방식</a></li>
  <li><a href="#%EC%9E%90%EB%A3%8C%ED%98%95" id="toc-자료형" class="nav-link" data-scroll-target="#%EC%9E%90%EB%A3%8C%ED%98%95"><span class="header-section-number">25.4</span> 자료형</a></li>
  <li>
<a href="#%EB%8B%A4%EC%96%91%ED%95%9C-%ED%8C%8C%EC%9D%BC%ED%98%95%ED%83%9C" id="toc-다양한-파일형태" class="nav-link" data-scroll-target="#%EB%8B%A4%EC%96%91%ED%95%9C-%ED%8C%8C%EC%9D%BC%ED%98%95%ED%83%9C"><span class="header-section-number">25.5</span> 다양한 파일형태</a>
  <ul class="collapse">
<li><a href="#%ED%8C%8C%EC%9D%BC-%EC%A0%80%EC%9E%A5" id="toc-파일-저장" class="nav-link" data-scroll-target="#%ED%8C%8C%EC%9D%BC-%EC%A0%80%EC%9E%A5"><span class="header-section-number">25.5.1</span> 파일 저장</a></li>
  <li><a href="#%EB%B6%88%EB%9F%AC%EC%98%A4%EA%B8%B0" id="toc-불러오기" class="nav-link" data-scroll-target="#%EB%B6%88%EB%9F%AC%EC%98%A4%EA%B8%B0"><span class="header-section-number">25.5.2</span> 불러오기</a></li>
  </ul>
</li>
  <li><a href="#%EA%B3%B5%EA%B3%B5-%EB%8D%B0%EC%9D%B4%ED%84%B0" id="toc-공공-데이터" class="nav-link" data-scroll-target="#%EA%B3%B5%EA%B3%B5-%EB%8D%B0%EC%9D%B4%ED%84%B0"><span class="header-section-number">25.6</span> 공공 데이터</a></li>
  <li><a href="#%EB%8B%A4%EC%88%98-%ED%8C%8C%EC%9D%BC" id="toc-다수-파일" class="nav-link" data-scroll-target="#%EB%8B%A4%EC%88%98-%ED%8C%8C%EC%9D%BC"><span class="header-section-number">25.7</span> 다수 파일</a></li>
  </ul><div class="toc-actions"><ul><li><a href="https://github.com/bit2r/gpt-ds/edit/main/ingest_file.qmd" class="toc-action"><i class="bi bi-github"></i>편집</a></li><li><a href="https://github.com/bit2r/gpt-ds/issues/new" class="toc-action"><i class="bi empty"></i>이슈 보고</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./ingest_database.html"><strong>7부</strong> 가져오기</a></li><li class="breadcrumb-item"><a href="./ingest_file.html"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">파일 데이터</span></a></li></ol></nav><div class="quarto-title">
<h1 class="title"><span id="intro" class="quarto-section-identifier"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">파일 데이터</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header><section id="유니코드와-utf-8" class="level2" data-number="25.1"><h2 data-number="25.1" class="anchored" data-anchor-id="유니코드와-utf-8">
<span class="header-section-number">25.1</span> 유니코드와 UTF-8</h2>
<p>사람 간의 의사소통은 다양한 기호 체계를 통해 이루어진다. 영어 알파벳, 한글, 한자 등 문자가 의사소통에 사용되는 좋은 예이다. 디지털 환경에서 이러한 의사소통을 가능하게 하는 기술적 장치가 바로 문자 집합과 문자 인코딩 및 디코딩이다.</p>
<p>컴퓨터 시스템은 이진수 바이트를 기본 단위로 사용한다. 바이트는 파일 형태로 묶이거나 네트워크를 통해 전송되어 다른 시스템에 도달한다. 이 데이터가 사람에게 의미 있는 정보로 전달되기 위해서는 인코딩(부호화)과 디코딩(복호화) 과정을 거쳐야 한다.</p>
<p>컴퓨터 시스템은 데이터를 바이트(Byte) 형태로 처리한다. 이 바이트 데이터는 이진수, 즉 010101과 같은 형태로 표현되고, 바이트 데이터를 사람이 읽을 수 있는 문자로 변환하는 최초의 표준이 ASCII(아스키)다. 하지만 ASCII는 256개 문자만을 지원하기 때문에, CJK(중국, 일본, 한국)와 같은 동아시아 문화권에서는 그 한계가 명확하다. 이러한 한계를 해결하기 위해 유니코드(Unicode)가 도입되었다. 유니코드는 영문자는 물론이고 지구상의 거의 모든 문자와 기호를 디지털로 표현할 수 있는 방법을 제공한다.</p>
<p><strong>유니코드(Unicode)</strong>는 글자와 코드가 1:1 매핑되어 있는 단순한 코드표에 불과하고 산업 표준으로 일종의 국가 당사자 간 약속이다. 한글이 표현된 유니코드 영역도 <a href="https://ko.wikipedia.org/wiki/%EC%9C%A0%EB%8B%88%EC%BD%94%EB%93%9C_%EC%98%81%EC%97%AD">위키백과 유니코드 영역</a>에서 찾을 수 있다.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="images/auth-unicode-utf-8.png" class="lightbox" data-glightbox="description: .lightbox-desc-1" data-gallery="quarto-lightbox-gallery-1" title="유니코드와 UTF-8"><img src="images/auth-unicode-utf-8.png" class="img-fluid figure-img" alt="유니코드와 UTF-8"></a></p>
<figcaption>유니코드와 UTF-8</figcaption></figure>
</div>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
인코딩 (Encoding)
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>문자 인코딩(character encoding)</strong>, 줄여서 인코딩은 사용자가 입력한 문자나 기호들을 컴퓨터가 이용할 수 있는 신호로 만드는 것을 말한다. 넓은 의미의 컴퓨터는 이러한 신호를 입력받고 처리하는 기계를 뜻하며, 신호 처리 시스템을 통해 이렇게 처리된 정보를 사용자가 이해할 수 있게 된다.</p>
<blockquote class="blockquote">
<p>All text has a character encoding.</p>
</blockquote>
</div>
</div>
<section id="인코딩-문제" class="level3" data-number="25.1.1"><h3 data-number="25.1.1" class="anchored" data-anchor-id="인코딩-문제">
<span class="header-section-number">25.1.1</span> 인코딩 문제</h3>
<p>문자 인코딩은 컴퓨터가 텍스트를 바이트로 변환하거나 바이트를 텍스트로 변환하는 방법이다. 인코딩 과정에서는 다양한 문제가 발생할 수 있고, 그중 세 가지 문제가 많이 알려져 있다. 첫 번째는 ’두부(Tofu)’라 불리는 상황으로, 컴퓨터가 어떤 문자를 표현해야 할지 알지만, 화면에 어떻게 출력해야 할지 모르기 때문에 빈 사각형 상자로 표시된다. 두 번째는 ’문자 깨짐(Mojibake, 文字化け)’이다. 특히 일본어에서 자주 발생하며, 한 인코딩 방식으로 작성된 텍스트가 다른 인코딩 방식으로 해석될 때 문자가 깨지는 현상을 의미한다. 세 번째는 ’의문부호(Question Marks)’로, 특정 문자가 다른 문자로 변환될 때 발생된다. 문자 집합과 인코딩 궁합이 맞지 않을 때 발생하며, 데이터 손실과 오류도 야기된다.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="images/common-encoding-problem.png" class="lightbox" data-glightbox="description: .lightbox-desc-2" data-gallery="quarto-lightbox-gallery-2" title="세 가지 인코딩 문제"><img src="images/common-encoding-problem.png" class="img-fluid figure-img" alt="세 가지 인코딩 문제"></a></p>
<figcaption>세 가지 인코딩 문제</figcaption></figure>
</div>
</section><section id="문자-집합" class="level3" data-number="25.1.2"><h3 data-number="25.1.2" class="anchored" data-anchor-id="문자-집합">
<span class="header-section-number">25.1.2</span> 문자 집합</h3>
<section id="아스키-코드" class="level4"><h4 class="anchored" data-anchor-id="아스키-코드">아스키 코드</h4>
<p>디지털 글쓰기는 내용과 상관없이 결국 텍스트로 표현되고, 텍스트는 단지 문자이다. 하지만, 컴퓨터가 문자 하나를 어떻게 표현할까?</p>
<p>1960년대 미국식 영문자를 컴퓨터로 표현하는 해결책은 간단했다. 알파벳 26개(대문자, 소문자), 숫자 10개, 구두점 몇 개, 그리고 전신을 보내던 시절에 제어를 위해 사용된 몇 개의 특수 문자(“새줄로 이동”, “본문 시작”, “경고음” 등)가 전부였다. 모두 합쳐도 128개보다 적어서, 아스키(ASCII) 위원회가 문자마다 7비트( <span class="math inline">\(2^7\)</span> = 128)를 사용하는 인코딩으로 표준화했다. <a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></p>
<div id="fig-ascii" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-ascii-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="images/ascii_gt.png" class="lightbox" data-glightbox="description: .lightbox-desc-3" data-gallery="quarto-lightbox-gallery-3"><img src="images/ascii_gt.png" class="img-fluid figure-img"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ascii-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
그림&nbsp;25.1: 제어문자와 출력 가능한 아스키 문자표 알파벳 예시
</figcaption></figure>
</div>
<p><a href="#fig-ascii" class="quarto-xref">그림&nbsp;<span>25.1</span></a> 는 아스키 문자표에서 제어문자 10개와 출력 가능한 아스키 문자표 중 영문 대문자 A-I까지 10개를 뽑아 사례로 보여준다. 즉, 문자표는 어떤 문자가 어떤 숫자에 해당하는지를 정의하고 있다.</p>
</section><section id="ascii-extension" class="level4"><h4 class="anchored" data-anchor-id="ascii-extension">확장 아스키</h4>
<p>아스키(ASCII) 방식으로 숫자 <code>2</code>, 문자 <code>q</code>, 혹은 곡절 악센트 <code>^</code>를 표현하는 데 충분하다. 하지만, 투르크어족 추바시어 <code>ĕ</code>, 그리스 문자 <code>β</code>, 러시아 키릴 문자 <code>Я</code>는 어떻게 저장하고 표현해야 할까? 7비트를 사용하면 0에서 127까지 숫자를 부여할 수 있지만, 8비트(즉, 1바이트)를 사용하게 되면 255까지 표현할 수 있다. 그렇다면, ASCII 표준을 확장해서 추가되는 128개 숫자에 대해 추가로 문자를 표현할 수 있게 된다.</p>
<ul>
<li>아스키: 0…127</li>
<li>확장된 아스키: 128…255</li>
</ul>
<p>불행하게도, 영어 문자를 사용하지 않는 세계 곳곳에서 많은 사람들이 시도를 했지만, 방식도 다르고, 호환이 되지 않는 방식으로 작업이 되어, 결과는 엉망진창이 되었다. 예를 들어, 실제 텍스트가 불가리아어로 인코딩되었는데 스페인어 규칙을 사용해서 인코딩한 것으로 프로그램이 간주하고 처리될 경우 결과는 무의미한 횡설수설 값이 출력된다. 이와는 별도로 한중일(CJK) 동아시아 국가들을 비롯한 많은 국가들이 256개 이상의 기호를 사용한다. 왜냐하면 8비트로는 특히 동아시아 국가 문자를 표현하는 데 부족하기 때문이다.</p>
</section><section id="한글-완성형과-조합형" class="level4"><h4 class="anchored" data-anchor-id="한글-완성형과-조합형">한글 완성형과 조합형</h4>
<p>1980년대부터 컴퓨터를 사용하신 분이라면 완성형과 조합형의 표준화 전쟁을 지켜봤을 것이고, 그 이면에는 한글 워드프로세서에 대한 주도권 쟁탈전이 있었던 것을 기억할 것이다. 결국 완성형과 조합형을 모두 포용하는 것으로 마무리되었지만, 여기서 끝난 게 아니다. 유닉스 계열에서 <code>KSC5601</code>을 표준으로 받아들인 <code>EUC-KR</code>과 90년대와 2000년대를 호령한 마이크로소프트 <code>CP949</code>가 있었다. 결국 대한민국 정부에서 주도한 표준화 전쟁은 유닉스/리눅스, 마이크로소프트 모두를 녹여내는 것으로 마무리되었고, 웹과 모바일 시대는 유니코드로 넘어가서 <code>KSC5601</code>이 유니코드의 원소로 들어가는 것으로 마무리되었다.</p>
<p>이제 신경 쓸 것은 인코딩, 즉 <code>utf-8</code>만 신경 쓰면 된다. 그리고 남은 디지털 레거시 유산을 잘 처리하면 된다.</p>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
유닉스/리눅스(EUC-KR), 윈도우(CP949)
</div>
</div>
<div class="callout-body-container callout-body">
<p><code>EUC-KR</code>, <code>CP949</code> 모두 2바이트 한글을 표현하는 방식으로 동일점이 있지만, <code>EUC-KR</code> 방식은 KSC5601-87 완성형을 초기에 사용하였으나, KSC5601-92 조합형도 사용할 수 있도록 확장되었다. <code>CP949</code>는 확장 완성형으로도 불리며 <code>EUC-KR</code>에서 표현할 수 없는 한글 글자 8,822자를 추가한 것으로 마이크로소프트 코드페이지(Code Page) 949를 사용하면서 일반화되었다.</p>
</div>
</div>
</section><section id="ascii-unicode" class="level4"><h4 class="anchored" data-anchor-id="ascii-unicode">유니코드</h4>
<p>1990년대에 나타나기 시작한 해결책을 <strong>유니코드(Unicode)</strong>라고 부른다. 예를 들어, 영어 A 대문자는 1바이트, 한글 가는 3바이트다. 유니코드는 정수값을 서로 다른 수만 개 문자와 기호를 표현하는 데 정의한다. ’A’는 <code>U+0041</code>, ’가’는 <code>U+AC00</code>과 같이 고유한 코드 포인트를 가진다. 하지만, 파일에 혹은 메모리에 문자열로 정수값을 저장하는 방식을 정의하지는 않는다.</p>
<p>각 문자마다 8비트를 사용하던 방식에서 32비트 정수를 사용하는 방식으로 전환하면 되지만, 영어, 에스토니아어, 브라질 포르투갈어 같은 알파벳 언어권에는 상당한 공간 낭비가 발생된다. 접근 속도가 중요한 경우 메모리에 문자당 32비트를 종종 사용한다. 하지만, 파일에 데이터를 저장하거나 인터넷을 통해 전송하는 경우 대부분의 프로그램과 프로그래머는 이와는 다른 방식을 사용한다.</p>
<p>다른 방식은 (거의) 항상 <strong>UTF-8</strong>으로 불리는 인코딩으로, 문자마다 가변 바이트를 사용한다. 하위 호환성을 위해, 첫 128개 문자(즉, 구 아스키 문자 집합)는 바이트 1개에 저장된다. 다음 1920개 문자는 바이트 2개를 사용해서 저장된다. 다음 61,000개는 바이트 3개를 사용해서 저장해 나간다.</p>
<p>궁금하다면, 동작 방식이 다음 표에 나타나 있다. “전통적” 문자열은 문자마다 1바이트를 사용한다. 반대로, “유니코드” 문자열은 문자마다 충분한 메모리를 사용해서 어떤 텍스트 유형이든 저장한다. R, 파이썬 3.x에서 모든 문자열은 유니코드다. 엄청난 바이트를 읽어오거나 저장하여 내보내려고 할 때, 인코딩을 지정하는 것은 엄청난 고통이다.</p>
<p>유니코드 문자열은 여는 인용부호 앞에 소문자 <code>U</code>를 붙여 표시한다. 유니코드 문자열을 바이트 문자열로 전환하려면, 인코딩을 명세해야만 된다. 항상 UTF-8을 사용해야 하고, 그 밖의 인코딩을 사용하는 경우 매우, 매우 특별히 좋은 사유가 있어야만 된다. 특별한 인코딩을 사용하는 경우 두 번 생각해 보라.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="images/ascii_evolution.jpg" class="lightbox" data-glightbox="description: .lightbox-desc-4" data-gallery="quarto-lightbox-gallery-4" title="아스키에서 유니코드로 진화과정"><img src="images/ascii_evolution.jpg" class="img-fluid figure-img" alt="아스키에서 유니코드로 진화과정"></a></p>
<figcaption>아스키에서 유니코드로 진화과정</figcaption></figure>
</div>
<p>컴퓨터가 처음 등장할 때 미국 영어권 중심 아스키가 아니고 4바이트로 전 세계 모든 글자를 표현할 수 있는 유니코드가 사용되었다면 한글을 컴퓨터에 표현하기 위한 지금과 같은 번거로움은 없었을 것이다. 돌이켜보면 초기 컴퓨터가 저장 용량 한계로 인해 유니코드가 표준으로 자리를 잡더라도 실용적인 이유로 인해서 한글을 컴퓨터에 표현하기 위한 다른 대안이 제시됐을 것도 분명해 보인다. 초창기 영어권을 중심으로 아스키 표준이 정립되어 현재까지 내려오고, 유니코드와 UTF-8 인코딩이 사실상 표준으로 자리 잡았으며, 그 사이 유닉스/리눅스 EUC-KR, 윈도우즈 CP949가 빈틈을 한동안 메우면서 역할을 담당했다.</p>
<table class="table">
<colgroup>
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
</colgroup>
<thead><tr class="header">
<th style="text-align: center;">항목</th>
<th style="text-align: center;">ASCII (1963)</th>
<th style="text-align: center;">EUC-KR (1980s)</th>
<th style="text-align: center;">CP949 (1990s)</th>
<th style="text-align: center;">Unicode (1991)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">범위</td>
<td style="text-align: center;">128개의 문자</td>
<td style="text-align: center;">2,350개의 한글 문자 등</td>
<td style="text-align: center;">약 11,172개의 완성형 한글 문자 등</td>
<td style="text-align: center;">143,859개의 문자 (버전 13.0 기준)</td>
</tr>
<tr class="even">
<td style="text-align: center;">비트 수</td>
<td style="text-align: center;">7비트</td>
<td style="text-align: center;">8~16비트</td>
<td style="text-align: center;">8~16비트</td>
<td style="text-align: center;">다양한 인코딩 방식 (UTF-8, UTF-16, UTF-32 등)</td>
</tr>
<tr class="odd">
<td style="text-align: center;">표준</td>
<td style="text-align: center;">ANSI, ISO/IEC 646</td>
<td style="text-align: center;">KS X 2901</td>
<td style="text-align: center;">마이크로소프트</td>
<td style="text-align: center;">ISO/IEC 10646</td>
</tr>
<tr class="even">
<td style="text-align: center;">플랫폼</td>
<td style="text-align: center;">다양한 시스템</td>
<td style="text-align: center;">UNIX 계열, 일부 Windows</td>
<td style="text-align: center;">Windows 계열</td>
<td style="text-align: center;">다양한 플랫폼</td>
</tr>
<tr class="odd">
<td style="text-align: center;">문자 집합</td>
<td style="text-align: center;">영문 알파벳, 숫자, 특수 문자</td>
<td style="text-align: center;">한글, 영문 알파벳, 숫자, 특수 문자</td>
<td style="text-align: center;">한글, 한자, 영문 알파벳, 숫자, 특수 문자</td>
<td style="text-align: center;">전 세계 언어, 특수 문자, 이모티콘 등</td>
</tr>
<tr class="even">
<td style="text-align: center;">확장성</td>
<td style="text-align: center;">확장 불가능</td>
<td style="text-align: center;">한정적</td>
<td style="text-align: center;">더 많은 문자 지원</td>
<td style="text-align: center;">높은 확장성</td>
</tr>
<tr class="odd">
<td style="text-align: center;">국제성</td>
<td style="text-align: center;">영어 중심</td>
<td style="text-align: center;">한국어 중심</td>
<td style="text-align: center;">한국어 중심</td>
<td style="text-align: center;">다국어 지원</td>
</tr>
<tr class="even">
<td style="text-align: center;">유니코드 호환</td>
<td style="text-align: center;">호환 가능 (U+0000 ~ U+007F)</td>
<td style="text-align: center;">호환 불가, 변환 필요</td>
<td style="text-align: center;">유니코드와 상호 변환 가능</td>
<td style="text-align: center;">자체가 표준</td>
</tr>
</tbody>
</table></section><section id="utf-8" class="level4"><h4 class="anchored" data-anchor-id="utf-8">UTF-8</h4>
<p>UTF-8(Universal Coded Character Set + Transformation Format – 8-bit의 약자)은 유니코드 중에서 가장 널리 쓰이는 인코딩으로, 유니코드를 위한 가변 길이 문자 인코딩 방식 중 하나로 켄 톰프슨과 롭 파이크가 제작했다.</p>
<p>UTF-8 인코딩의 가장 큰 장점은 아스키(ASCII), 라틴-1(ISO-8859-1)과 호환되어, 문서를 처리하는 경우 아스키, 라틴-1 문서를 변환 없이 그대로 처리할 수 있고 영어를 비롯한 라틴계열 문서로 저장할 때 용량이 매우 작다. 이러한 이유로 많은 오픈소스 소프트웨어와 데이터를 생산하는 미국을 비롯한 유럽 언어권에서 UTF-8이 많이 사용되고 있지만, 한글은 한 글자당 3바이트 용량을 차지한다.</p>
</section><section id="웹-표준-인코딩" class="level4"><h4 class="anchored" data-anchor-id="웹-표준-인코딩">웹 표준 인코딩</h4>
<p>스마트폰의 대중화에 따라 더이상 윈도우 운영체제에서 사용되는 문자체계가 더이상 표준이 되지 못하고 여러 문제점을 야기함에 따라 <strong>유니코드 + UTF-8</strong> 체제가 대세로 자리잡고 있는 것이 확연히 나타나고 있다.</p>
<p>2010년 구글에서 <a href="https://googleblog.blogspot.com/2010/01/unicode-nearing-50-of-web.html">발표</a>한 자료에 의하면 2010년 UTF-8 인코딩이 웹에서 주류로 부상하기 시작한 것이 확인되었다. <span class="citation" data-cites="unicode2010">(<strong>unicode2010?</strong>)</span> 웹 기반 플롯 디지털 도구를 활용하여 그래프(<a href="https://apps.automeris.io/wpd/">WebPlotDigitizer</a>)에서 데이터를 추출하여 시각화하면 유사한 결과를 시각적으로 표현할 수 있다. 2010년 이후 웹에서 가장 점유율이 높은 인코딩 방식은 UTF-8으로 W3Tech 웹 기술 조사(Web Technology Surveys)를 통해 확인할 수 있다. 여기서 주목할 점은, 프랑스어, 독일어, 스페인어와 같은 서유럽 언어의 문자와 기호를 표현하는 ISO-8859-1 인코딩, 종종 “Latin-1”으로 불리는 8비트 문자 인코딩이 현저히 줄고 있다는 점이다.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="images/encoding_utf_gg.jpg" class="lightbox" data-glightbox="description: .lightbox-desc-5" data-gallery="quarto-lightbox-gallery-5" title="2010 ~ 2012 웹에서 UTF-8 성장세"><img src="images/encoding_utf_gg.jpg" class="img-fluid figure-img" alt="2010 ~ 2012 웹에서 UTF-8 성장세"></a></p>
<figcaption>2010 ~ 2012 웹에서 UTF-8 성장세</figcaption></figure>
</div>
</section></section></section><section id="아스키-파일" class="level2" data-number="25.2"><h2 data-number="25.2" class="anchored" data-anchor-id="아스키-파일">
<span class="header-section-number">25.2</span> 아스키 파일</h2>
<p>아스키 파일은 텍스트 파일로, 데이터를 저장하는 가장 기본적인 형태이다. R에서 데이터프레임으로 다양한 데이터를 가져올 때, 아스키 파일은 CSV(Comma-Separated Values) 파일, TSV(Tab-Separated Values) 파일, 고정길이 파일 등 다양한 형식으로 존재한다. CSV 파일은 쉼표로 구분된 값들로 이루어진 텍스트 파일이며, TSV 파일은 탭으로 구분된 값들로 이루어진 텍스트 파일이다. 고정길이 파일은 각 필드가 고정된 길이를 가지는 텍스트 파일이다. 또한, R에서는 데이터를 직접 입력하여 데이터프레임을 생성할 수도 있다. 아스키 파일을 데이터프레임으로 가져올 때는 <code><a href="https://rdrr.io/r/utils/read.table.html">read.csv()</a></code>, <code><a href="https://rdrr.io/r/utils/read.table.html">read.table()</a></code>, <code><a href="https://rdrr.io/r/utils/read.fwf.html">read.fwf()</a></code> 등의 함수를 사용하며, 데이터를 직접 입력할 때는 열중심 혹은 행중심에 따라 <code><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble()</a></code>, <code><a href="https://tibble.tidyverse.org/reference/tribble.html">tribble()</a></code> 함수를 사용한다.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-import-data" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-import-data-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div>
<pre class="mermaid mermaid-js" data-label="fig-import-data">graph TB

subgraph 가져오기["&lt;strong&gt;가져오기&lt;/strong&gt;"]

    스프레드쉬트 --&gt; 핸들러
    데이터베이스 --&gt; 핸들러
    아스키 --&gt; 핸들러
    웹데이터 --&gt; 핸들러
    핸들러 --&gt; 데이터프레임

    subgraph 아스키["&lt;strong&gt;아스키 파일&lt;/strong&gt;"]
        데이터입력[데이터 입력]
        csv[CSV 파일]
        tsv[TSV 파일]
        고정길이파일[고정길이 파일]
    end

end

classDef modern fill:#f0f0f0,stroke:#333,stroke-width:2px,color:#333,font-family:MaruBuri,font-size:12px;
classDef emphasize fill:#d0d0d0,stroke:#333,stroke-width:3px,color:#333,font-family:MaruBuri,font-size:15px,font-weight:bold;
classDef subgraphStyle fill:#e0e0e0,stroke:#333,stroke-width:2px,color:#333,font-family:MaruBuri,font-size:20px;

class csv,데이터입력,tsv,고정길이파일,스프레드쉬트,데이터베이스,웹데이터,핸들러 modern
class 데이터프레임 emphasize
class 아스키,가져오기 subgraphStyle
</pre>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-import-data-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
그림&nbsp;25.2: 다양한 데이터 종류
</figcaption></figure>
</div>
</div>
</div>
</section><section id="데이터-입력방식" class="level2" data-number="25.3"><h2 data-number="25.3" class="anchored" data-anchor-id="데이터-입력방식">
<span class="header-section-number">25.3</span> 데이터 입력방식</h2>
<p>파일 크기가 적은 경우 즉, 눈으로 식별가능한 크기를 갖는 아스키 파일을 <code>.csv</code>, <code>.txt</code> 등의 형식으로 저장한 후 <code>readr</code> 패키지 <code><a href="https://readr.tidyverse.org/reference/read_delim.html">read_csv()</a></code>, <code><a href="https://readr.tidyverse.org/reference/read_table.html">read_table()</a></code>, <code><a href="https://readr.tidyverse.org/reference/read_delim.html">read_delim()</a></code> 등의 함수로 불러오는 것이 오히려 적절하지 못한 경우가 있다.</p>
<p><code><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble()</a></code> 혹은 <code><a href="https://tibble.tidyverse.org/reference/tribble.html">tribble()</a></code> 함수를 사용해서 인라인 데이터를 생성하는 것이 더 효율적일 수 있다. 다음과 같이 쇼핑몰 초창기 고객 주문 데이터를 입력하여 R로 불러와서 분석하는 방법를 살펴보자.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1"></a>주문일자,주문번호,고객번호,상품명,상품범주,주문금액</span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="co">"2023-05-19 13:45:32"</span>,<span class="dv">203451</span>,A20193,<span class="st">"슬림핏 반팔 티셔츠"</span>,의류,<span class="dv">21800</span></span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="dv">2023</span><span class="op">/</span><span class="dv">0</span><span class="er">5</span><span class="op">/</span><span class="dv">19</span> <span class="dv">14</span>:<span class="dv">23</span>:<span class="dv">11</span>,<span class="dv">203452</span>,B10582,<span class="st">"여성용 스니커즈, 240mm"</span>,,<span class="dv">68000</span></span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="co">"2023.05.19 16:05:49"</span>,<span class="dv">203453</span>,<span class="st">"C30281"</span>,<span class="st">"진공 보온병, 500ml"</span>,주방용품,<span class="st">"35,600"</span></span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="dv">2023</span><span class="op">-</span><span class="dv">0</span><span class="er">5</span><span class="op">-</span><span class="dv">20</span> <span class="dv">0</span><span class="er">9</span>:<span class="dv">18</span>:<span class="dv">22</span>, <span class="dv">203454</span>,<span class="st">"D18734"</span>,<span class="st">""</span>귀걸이<span class="st">"세트 (실버)"</span>,액세서리,<span class="dv">112000</span></span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="dv">2023</span><span class="op">-</span><span class="dv">0</span><span class="er">5</span><span class="op">-</span><span class="dv">20</span> <span class="dv">11</span>:<span class="dv">36</span>:<span class="dv">58</span>,,E42097,남성용 슬림 진 (<span class="dv">32</span><span class="er">인치</span>),의류,<span class="dv">54900</span></span>
<span id="cb1-7"><a href="#cb1-7"></a><span class="dv">2023</span><span class="op">/</span><span class="dv">0</span><span class="er">5</span><span class="op">/</span><span class="dv">21</span> <span class="dv">0</span><span class="er">8</span>:<span class="dv">0</span><span class="er">2</span>:<span class="dv">44</span>,<span class="st">"203,456"</span>,F61052,<span class="st">"무선 게이밍 마우스"</span>,전자기기,<span class="st">""</span><span class="dv">88</span>,<span class="dv">700</span><span class="st">""</span></span>
<span id="cb1-8"><a href="#cb1-8"></a><span class="fl">2023.05.21</span> <span class="dv">15</span>:<span class="dv">30</span>:<span class="dv">0</span><span class="er">5</span>,<span class="dv">203457</span>,,,,<span class="dv">42300</span></span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>데이터가 크지 않기 때문에 칼럼 혹은 행 기준으로 데이터프레임으로 불러올 수 있다. 먼저 <code><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble()</a></code> 함수를 사용해서 데이터프레임을 생성한다. 실무에서 결측값도 있고 주문금액에 천단위 <code>,</code> 구분자도 포함되어 있고 날짜 형식도 다양하게 표현되어 있을 수 있다.</p>
<div class="cell">
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tibble.tidyverse.org/">tibble</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">orders</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tribble.html">tribble</a></span><span class="op">(</span></span>
<span>  <span class="op">~</span><span class="va">주문일자</span>, <span class="op">~</span><span class="va">주문번호</span>, <span class="op">~</span><span class="va">고객번호</span>, <span class="op">~</span><span class="va">상품명</span>, <span class="op">~</span><span class="va">상품범주</span>, <span class="op">~</span><span class="va">주문금액</span>,</span>
<span>  <span class="st">"2023-05-19 13:45:32"</span>, <span class="st">"203451"</span>, <span class="st">"A20193"</span>, <span class="st">"슬림핏 반팔 티셔츠"</span>, <span class="st">"의류"</span>, <span class="st">"21800"</span>,</span>
<span>  <span class="st">"2023/05/19 14:23:11"</span>, <span class="st">"203452"</span>, <span class="st">"B10582"</span>, <span class="st">"여성용 스니커즈, 240mm"</span>, <span class="cn">NA</span>, <span class="st">"68000"</span>,</span>
<span>  <span class="st">"2023.05.19 16:05:49"</span>, <span class="st">"203453"</span>, <span class="st">"C30281"</span>, <span class="st">"진공 보온병, 500ml"</span>, <span class="st">"주방용품"</span>, <span class="st">"35,600"</span>,</span>
<span>  <span class="st">"2023-05-20 09:18:22"</span>, <span class="st">"203454"</span>, <span class="st">"D18734"</span>, <span class="st">"귀걸이세트 (실버)"</span>, <span class="st">"액세서리"</span>, <span class="st">"112000"</span>,</span>
<span>  <span class="st">"2023-05-20 11:36:58"</span>, <span class="cn">NA</span>, <span class="st">"E42097"</span>, <span class="st">"남성용 슬림 진 (32인치)"</span>, <span class="st">"의류"</span>, <span class="st">"54900"</span>,</span>
<span>  <span class="st">"2023/05/21 08:02:44"</span>, <span class="st">"203,456"</span>, <span class="st">"F61052"</span>, <span class="st">"무선 게이밍 마우스"</span>, <span class="st">"전자기기"</span>, <span class="st">"88,700"</span>,</span>
<span>  <span class="st">"2023.05.21 15:30:05"</span>, <span class="st">"203457"</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="st">"42300"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">orders</span></span>
<span><span class="co">#&gt; # A tibble: 7 × 6</span></span>
<span><span class="co">#&gt;   주문일자            주문번호 고객번호 상품명                 상품범주 주문금액</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;               &lt;chr&gt;    &lt;chr&gt;    &lt;chr&gt;                  &lt;chr&gt;    &lt;chr&gt;   </span></span>
<span><span class="co">#&gt; 1 2023-05-19 13:45:32 203451   A20193   슬림핏 반팔 티셔츠     의류     21800   </span></span>
<span><span class="co">#&gt; 2 2023/05/19 14:23:11 203452   B10582   여성용 스니커즈, 240mm &lt;NA&gt;     68000   </span></span>
<span><span class="co">#&gt; 3 2023.05.19 16:05:49 203453   C30281   진공 보온병, 500ml     주방용품 35,600  </span></span>
<span><span class="co">#&gt; 4 2023-05-20 09:18:22 203454   D18734   귀걸이세트 (실버)      액세서리 112000  </span></span>
<span><span class="co">#&gt; 5 2023-05-20 11:36:58 &lt;NA&gt;     E42097   남성용 슬림 진 (32인…  의류     54900   </span></span>
<span><span class="co">#&gt; 6 2023/05/21 08:02:44 203,456  F61052   무선 게이밍 마우스     전자기기 88,700  </span></span>
<span><span class="co">#&gt; 7 2023.05.21 15:30:05 203457   &lt;NA&gt;     &lt;NA&gt;                   &lt;NA&gt;     42300</span></span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><code><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble()</a></code> 함수는 벡터를 기준으로 칼럼을 생성하고 이를 <code><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble()</a></code> 함수로 결합하여 데이터프레임을 생성한다.</p>
<div class="cell">
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tibble.tidyverse.org/">tibble</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">orders</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span></span>
<span> 주문일자 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"2023-05-19 13:45:32"</span>, <span class="st">"2023/05/19 14:23:11"</span>, <span class="st">"2023.05.19 16:05:49"</span>, </span>
<span>             <span class="st">"2023-05-20 09:18:22"</span>, <span class="st">"2023-05-20 11:36:58"</span>, <span class="st">"2023/05/21 08:02:44"</span>, </span>
<span>             <span class="st">"2023.05.21 15:30:05"</span><span class="op">)</span>,</span>
<span> 주문번호 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"203451"</span>, <span class="st">"203452"</span>, <span class="st">"203453"</span>, <span class="st">"203454"</span>, <span class="cn">NA</span>, <span class="st">"203,456"</span>, <span class="st">"203457"</span><span class="op">)</span>,</span>
<span> 고객번호 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"A20193"</span>, <span class="st">"B10582"</span>, <span class="st">"C30281"</span>, <span class="st">"D18734"</span>, <span class="st">"E42097"</span>, <span class="st">"F61052"</span>, <span class="cn">NA</span><span class="op">)</span>,</span>
<span> 상품명 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"슬림핏 반팔 티셔츠"</span>, <span class="st">"여성용 스니커즈, 240mm"</span>, <span class="st">"진공 보온병, 500ml"</span>, </span>
<span>           <span class="st">"귀걸이세트 (실버)"</span>, <span class="st">"남성용 슬림 진 (32인치)"</span>, <span class="st">"무선 게이밍 마우스"</span>, <span class="cn">NA</span><span class="op">)</span>,</span>
<span> 상품범주 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"의류"</span>, <span class="cn">NA</span>, <span class="st">"주방용품"</span>, <span class="st">"액세서리"</span>, <span class="st">"의류"</span>, <span class="st">"전자기기"</span>, <span class="cn">NA</span><span class="op">)</span>,</span>
<span> 주문금액 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"21800"</span>, <span class="st">"68000"</span>, <span class="st">"35,600"</span>, <span class="st">"112000"</span>, <span class="st">"54900"</span>, <span class="st">"88,700"</span>, <span class="st">"42300"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">orders</span></span>
<span><span class="co">#&gt; # A tibble: 7 × 6</span></span>
<span><span class="co">#&gt;   주문일자            주문번호 고객번호 상품명                 상품범주 주문금액</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;               &lt;chr&gt;    &lt;chr&gt;    &lt;chr&gt;                  &lt;chr&gt;    &lt;chr&gt;   </span></span>
<span><span class="co">#&gt; 1 2023-05-19 13:45:32 203451   A20193   슬림핏 반팔 티셔츠     의류     21800   </span></span>
<span><span class="co">#&gt; 2 2023/05/19 14:23:11 203452   B10582   여성용 스니커즈, 240mm &lt;NA&gt;     68000   </span></span>
<span><span class="co">#&gt; 3 2023.05.19 16:05:49 203453   C30281   진공 보온병, 500ml     주방용품 35,600  </span></span>
<span><span class="co">#&gt; 4 2023-05-20 09:18:22 203454   D18734   귀걸이세트 (실버)      액세서리 112000  </span></span>
<span><span class="co">#&gt; 5 2023-05-20 11:36:58 &lt;NA&gt;     E42097   남성용 슬림 진 (32인…  의류     54900   </span></span>
<span><span class="co">#&gt; 6 2023/05/21 08:02:44 203,456  F61052   무선 게이밍 마우스     전자기기 88,700  </span></span>
<span><span class="co">#&gt; 7 2023.05.21 15:30:05 203457   &lt;NA&gt;     &lt;NA&gt;                   &lt;NA&gt;     42300</span></span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><code><a href="https://tibble.tidyverse.org/reference/tribble.html">tribble()</a></code>, <code><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble()</a></code> 함수 모두 데이터 입력을 통해 <code>orders</code> 데이터프레임을 생성하였으나 결측값에 대한 처리와 자료형이 모두 문자형(<code>&lt;chr&gt;</code>)으로 되어 있어 후속작업을 위해 추가 데이터 정제 작업이 필수적이다.</p>
</section><section id="자료형" class="level2" data-number="25.4"><h2 data-number="25.4" class="anchored" data-anchor-id="자료형">
<span class="header-section-number">25.4</span> 자료형</h2>
<p>가장 많이 사용되는 콤마 구분자 아스키 파일(<code>.csv</code>) 파일로 불러오면서 함께 고민해야 하는 사항이 바로 자료형이다.</p>
<p>R에서는 다양한 자료형을 지원한다. 가장 기본적인 자료형은 숫자형, 문자형, 범주형, 논리형이다. 숫자형은 정수형과 실수형으로 구분되며, 문자형은 문자열을 저장하는 자료형이다. 논리형은 참과 거짓을 나타내는 자료형이고, 범주형은 내부적으로 정수로 저장되지만 한정된 범주를 갖는 문자형으로 표현된다. 그외에도 날짜와 시간을 저장하는 자료형, 지도정보를 담고 있는 자료형, 이미지 정보를 담고 있는 자료형 등 다양한 자료형이 있다.</p>
<p><code>readr</code> 패키지 <code><a href="https://readr.tidyverse.org/reference/spec.html">spec()</a></code> 함수를 사용하면 아스키 파일을 불러읽어 오면서 각 열의 자료형을 확인할 수 있다. <code><a href="https://readr.tidyverse.org/reference/spec.html">spec()</a></code> 함수에서 출력한 각 열 자료형이 정답은 아니지만 나름 최선의 추정으로 각 열의 자료형을 살펴본 후 최종 열별 자료형을 지정하는데 도움이 되는 것은 사실이다.</p>
<div class="cell">
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">spec</span><span class="op">(</span> <span class="fu">read_csv</span><span class="op">(</span><span class="st">"data/file/nine_penguins.csv"</span><span class="op">)</span> <span class="op">)</span></span>
<span><span class="co">#&gt; cols(</span></span>
<span><span class="co">#&gt;   species = col_character(),</span></span>
<span><span class="co">#&gt;   island = col_character(),</span></span>
<span><span class="co">#&gt;   bill_length_mm = col_double(),</span></span>
<span><span class="co">#&gt;   flipper_length_mm = col_double(),</span></span>
<span><span class="co">#&gt;   body_mass_g = col_double(),</span></span>
<span><span class="co">#&gt;   sex = col_character(),</span></span>
<span><span class="co">#&gt;   year = col_double()</span></span>
<span><span class="co">#&gt; )</span></span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><code>readr</code> 패키지 <code>col_types</code> 인자를 사용하여 각 열의 자료형을 지정할 수 있다. <code>col_types</code> 인자에는 <code><a href="https://readr.tidyverse.org/reference/cols.html">cols()</a></code> 함수를 사용하여 각 열의 자료형을 지정한다. <code><a href="https://readr.tidyverse.org/reference/cols.html">cols()</a></code> 함수에는 <code><a href="https://readr.tidyverse.org/reference/parse_factor.html">col_factor()</a></code>, <code><a href="https://readr.tidyverse.org/reference/parse_atomic.html">col_character()</a></code>, <code><a href="https://readr.tidyverse.org/reference/parse_atomic.html">col_double()</a></code>, <code><a href="https://readr.tidyverse.org/reference/parse_atomic.html">col_integer()</a></code>, <code><a href="https://readr.tidyverse.org/reference/parse_atomic.html">col_logical()</a></code> 함수를 사용하여 각 열의 자료형을 지정한다. <code><a href="https://readr.tidyverse.org/reference/parse_factor.html">col_factor()</a></code> 함수는 범주형 자료형을 지정할 때 사용하며, <code><a href="https://readr.tidyverse.org/reference/parse_atomic.html">col_character()</a></code> 함수는 문자형 자료형을 지정할 때 사용한다. <code><a href="https://readr.tidyverse.org/reference/parse_atomic.html">col_double()</a></code> 함수는 실수형 자료형을 지정할 때 사용하며, <code><a href="https://readr.tidyverse.org/reference/parse_atomic.html">col_integer()</a></code> 함수는 정수형 자료형을 지정할 때 사용한다. <code><a href="https://readr.tidyverse.org/reference/parse_atomic.html">col_logical()</a></code> 함수는 논리형 자료형을 지정할 때 사용한다.</p>
<p><code><a href="https://readr.tidyverse.org/reference/spec.html">spec()</a></code> 함수가 텍스트로 된 열은 모두 문자형(<code><a href="https://readr.tidyverse.org/reference/parse_atomic.html">col_character()</a></code>)으로 인식하였지만, <code>species</code>, <code>sex</code> 열은 범주형 자료형으로 지정하는 것이 더 적절하다. <code>bill_length_mm</code>, <code>flipper_length_mm</code>, <code>body_mass_g</code>, <code>year</code> 열은 실수형, 정수형 자료형으로 지정하는 것이 적절하다고 판단되어 다음과 같이 <code>.csv</code> 파일을 불러오면서 각 열의 자료형도 함께 지정한다.</p>
<div class="cell">
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">penguins_tbl</span> <span class="op">&lt;-</span> <span class="fu">read_csv</span><span class="op">(</span><span class="st">"data/file/nine_penguins.csv"</span>,</span>
<span>         col_types <span class="op">=</span> <span class="fu">cols</span><span class="op">(</span></span>
<span>            species <span class="op">=</span> <span class="fu">col_factor</span><span class="op">(</span>level <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Adelie"</span>, <span class="st">"Chinstrap"</span>, <span class="st">"Gentoo"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>            island <span class="op">=</span> <span class="fu">col_character</span><span class="op">(</span><span class="op">)</span>,</span>
<span>            bill_length_mm <span class="op">=</span> <span class="fu">col_double</span><span class="op">(</span><span class="op">)</span>,</span>
<span>            flipper_length_mm <span class="op">=</span> <span class="fu">col_double</span><span class="op">(</span><span class="op">)</span>,</span>
<span>            body_mass_g <span class="op">=</span> <span class="fu">col_double</span><span class="op">(</span><span class="op">)</span>,</span>
<span>            sex <span class="op">=</span> <span class="fu">col_factor</span><span class="op">(</span>levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"female"</span>, <span class="st">"male"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>            year <span class="op">=</span> <span class="fu">col_integer</span><span class="op">(</span><span class="op">)</span></span>
<span>          <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">penguins_tbl</span></span>
<span><span class="co">#&gt; # A tibble: 9 × 7</span></span>
<span><span class="co">#&gt;   species   island    bill_length_mm flipper_length_mm body_mass_g sex     year</span></span>
<span><span class="co">#&gt;   &lt;fct&gt;     &lt;chr&gt;              &lt;dbl&gt;             &lt;dbl&gt;       &lt;dbl&gt; &lt;fct&gt;  &lt;int&gt;</span></span>
<span><span class="co">#&gt; 1 Adelie    Torgersen           33.5               190        3600 female  2008</span></span>
<span><span class="co">#&gt; 2 Adelie    Dream               39                 185        3650 male    2009</span></span>
<span><span class="co">#&gt; 3 Adelie    Biscoe              38.2               185        3950 male    2007</span></span>
<span><span class="co">#&gt; 4 Gentoo    Biscoe              43.6               217        4900 female  2008</span></span>
<span><span class="co">#&gt; 5 Gentoo    Biscoe              53.4               219        5500 male    2009</span></span>
<span><span class="co">#&gt; 6 Gentoo    Biscoe              45.5               214        4650 female  2007</span></span>
<span><span class="co">#&gt; 7 Chinstrap Dream               47                 185        3700 female  2007</span></span>
<span><span class="co">#&gt; 8 Chinstrap Dream               46.8               189        3650 female  2009</span></span>
<span><span class="co">#&gt; 9 Chinstrap Dream               48.1               199        3325 female  2009</span></span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="다양한-파일형태" class="level2" data-number="25.5"><h2 data-number="25.5" class="anchored" data-anchor-id="다양한-파일형태">
<span class="header-section-number">25.5</span> 다양한 파일형태</h2>
<section id="파일-저장" class="level3" data-number="25.5.1"><h3 data-number="25.5.1" class="anchored" data-anchor-id="파일-저장">
<span class="header-section-number">25.5.1</span> 파일 저장</h3>
<p>펭귄 데이터에서 종별로 3마리를 무작위로 추출해서 <code>nine_penguins</code> 데이터프레임을 만든 후에 다양한 형식 아스키 파일로 저장한다. 펭귄 9마리 데이터프레임으로 아스크 파일 형식으로 저장된 다양한 형태(탭 구분자, 콤마 구분자, 고정길이) 데이터를 불러오는 방법을 살펴본다. 구분자로 탭과 콤마가 가장 많이 사용되지만 경우에 따라서는 “;”, “:”, “|” 등 다양한 구분자를 사용할 수 있다.</p>
<div class="cell">
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://allisonhorst.github.io/palmerpenguins/">palmerpenguins</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">nine_penguins</span> <span class="op">&lt;-</span> <span class="fu">palmerpenguins</span><span class="fu">::</span><span class="va"><a href="https://allisonhorst.github.io/palmerpenguins/reference/penguins.html">penguins</a></span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu">drop_na</span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu">slice_sample</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">3</span>, replace <span class="op">=</span> <span class="cn">FALSE</span>, by <span class="op">=</span> <span class="va">species</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu">select</span><span class="op">(</span><span class="op">-</span><span class="va">bill_depth_mm</span><span class="op">)</span></span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="탭-구분자" class="level4"><h4 class="anchored" data-anchor-id="탭-구분자">탭 구분자</h4>
<p><code><a href="https://readr.tidyverse.org/reference/write_delim.html">write_delim()</a></code> 함수에 <code>delim</code> 인자를 <strong>탭</strong>으로 명시하여 탭 구분자 아스키 파일로 저장하는 방법과 <code><a href="https://readr.tidyverse.org/reference/write_delim.html">write_tsv()</a></code> 함수를 사용하는 방법이 있다. 탭 구분자 파일로 저장하는 동일한 기능을 수행하지만 함수명에서 차이가 난다.</p>
<div class="cell">
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">nine_penguins</span> <span class="op">|&gt;</span> </span>
<span>    <span class="co"># write_tsv("data/file/ASCII/nine_penguins.tsv") |&gt; </span></span>
<span>    <span class="fu">write_delim</span><span class="op">(</span><span class="st">"data/file/nine_penguins.txt"</span>, delim <span class="op">=</span> <span class="st">"\t"</span><span class="op">)</span> </span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceCode" id="cb8"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1"></a>species	island	bill_length_mm	flipper_length_mm	body_mass_g	sex	year</span>
<span id="cb8-2"><a href="#cb8-2"></a>Adelie	Biscoe	<span class="fl">37.8</span>	<span class="dv">190</span>	<span class="dv">4250</span>	male	<span class="dv">2009</span></span>
<span id="cb8-3"><a href="#cb8-3"></a>Adelie	Torgersen	<span class="fl">38.8</span>	<span class="dv">191</span>	<span class="dv">3275</span>	female	<span class="dv">2009</span></span>
<span id="cb8-4"><a href="#cb8-4"></a>Adelie	Dream	<span class="dv">37</span>	<span class="dv">185</span>	<span class="dv">3000</span>	female	<span class="dv">2007</span></span>
<span id="cb8-5"><a href="#cb8-5"></a>Gentoo	Biscoe	<span class="dv">42</span>	<span class="dv">210</span>	<span class="dv">4150</span>	female	<span class="dv">2007</span></span>
<span id="cb8-6"><a href="#cb8-6"></a>Gentoo	Biscoe	<span class="fl">50.1</span>	<span class="dv">225</span>	<span class="dv">5000</span>	male	<span class="dv">2008</span></span>
<span id="cb8-7"><a href="#cb8-7"></a>Gentoo	Biscoe	<span class="fl">52.1</span>	<span class="dv">230</span>	<span class="dv">5550</span>	male	<span class="dv">2009</span></span>
<span id="cb8-8"><a href="#cb8-8"></a>Chinstrap	Dream	<span class="fl">45.7</span>	<span class="dv">195</span>	<span class="dv">3650</span>	female	<span class="dv">2009</span></span>
<span id="cb8-9"><a href="#cb8-9"></a>Chinstrap	Dream	<span class="fl">52.7</span>	<span class="dv">197</span>	<span class="dv">3725</span>	male	<span class="dv">2007</span></span>
<span id="cb8-10"><a href="#cb8-10"></a>Chinstrap	Dream	<span class="fl">50.5</span>	<span class="dv">201</span>	<span class="dv">4050</span>	male	<span class="dv">2007</span></span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section><section id="csv-구분자" class="level4"><h4 class="anchored" data-anchor-id="csv-구분자">CSV 구분자</h4>
<p>CSV(Comma-Separated Values) 파일은 콤마 구분자를 사용하여 데이터를 저장하는 형식으로 모든 운영체제에서 특별한 별도 프로그램없이 열어볼 수 있다는 장점이 있어 호환성에서 큰 장점이 있지만 파일에 많은 정보가 담기게 되면 파일크기가 커져서 저장공간을 많이 차지한다는 단점이 있다. <code><a href="https://readr.tidyverse.org/reference/write_delim.html">write_csv()</a></code> 함수를 사용하여 콤마 구분자 아스키 파일로 저장하는 방법과 <code><a href="https://readr.tidyverse.org/reference/write_delim.html">write_delim()</a></code> 함수를 사용하는 방법이 있다. 콤마 구분자 파일로 저장하는 동일한 기능을 수행하지만 함수명에서 차이가 난다.</p>
<div class="cell">
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">nine_penguins</span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu">write_csv</span><span class="op">(</span><span class="st">"data/file/nine_penguins.csv"</span><span class="op">)</span></span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceCode" id="cb10"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1"></a>species,island,bill_length_mm,flipper_length_mm,body_mass_g,sex,year</span>
<span id="cb10-2"><a href="#cb10-2"></a>Adelie,Biscoe,<span class="fl">37.8</span>,<span class="dv">190</span>,<span class="dv">4250</span>,male,<span class="dv">2009</span></span>
<span id="cb10-3"><a href="#cb10-3"></a>Adelie,Torgersen,<span class="fl">38.8</span>,<span class="dv">191</span>,<span class="dv">3275</span>,female,<span class="dv">2009</span></span>
<span id="cb10-4"><a href="#cb10-4"></a>Adelie,Dream,<span class="dv">37</span>,<span class="dv">185</span>,<span class="dv">3000</span>,female,<span class="dv">2007</span></span>
<span id="cb10-5"><a href="#cb10-5"></a>Gentoo,Biscoe,<span class="dv">42</span>,<span class="dv">210</span>,<span class="dv">4150</span>,female,<span class="dv">2007</span></span>
<span id="cb10-6"><a href="#cb10-6"></a>Gentoo,Biscoe,<span class="fl">50.1</span>,<span class="dv">225</span>,<span class="dv">5000</span>,male,<span class="dv">2008</span></span>
<span id="cb10-7"><a href="#cb10-7"></a>Gentoo,Biscoe,<span class="fl">52.1</span>,<span class="dv">230</span>,<span class="dv">5550</span>,male,<span class="dv">2009</span></span>
<span id="cb10-8"><a href="#cb10-8"></a>Chinstrap,Dream,<span class="fl">45.7</span>,<span class="dv">195</span>,<span class="dv">3650</span>,female,<span class="dv">2009</span></span>
<span id="cb10-9"><a href="#cb10-9"></a>Chinstrap,Dream,<span class="fl">52.7</span>,<span class="dv">197</span>,<span class="dv">3725</span>,male,<span class="dv">2007</span></span>
<span id="cb10-10"><a href="#cb10-10"></a>Chinstrap,Dream,<span class="fl">50.5</span>,<span class="dv">201</span>,<span class="dv">4050</span>,male,<span class="dv">2007</span></span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section><section id="고정길이-파일" class="level4"><h4 class="anchored" data-anchor-id="고정길이-파일">고정길이 파일</h4>
<p>고정길이 아스키 파일(Fixed-width ASCII file, FWF)은 데이터 저장 및 교환을 위해 초기 컴퓨팅 시대에 개발되었다. 당시에는 데이터 저장 공간이 제한적이었기 때문에 고정길이 파일은 구분자를 사용하지 않고 데이터를 더 촘촘하게 저장할 수 있었고, 하드웨어와 소프트웨어도 고정 길이 레코드 처리에 최적화되어 있었다.</p>
<p>현재까지도 고정길이 파일은 레거시 시스템과의 호환성, 데이터 무결성 유지, 데이터 밀도 향상, 대용량 데이터 처리 성능 개선 등의 이유로 명맥을 유지하고 있으며, 의료 및 금융 분야에서 고정길이 파일을 데이터 교환 표준으로 활용하기도 한다.</p>
<p>하지만, 고정길이 파일은 파일 구조를 이해하기 위해 별도 문서나 스키마 정의가 필요하고, 데이터 추가나 수정 시 레코드 길이 조정이 요구되는 단점이 크고, 구분자로 구분되는 구조화된 데이터 형식과 비교하면 사용 편의성이 크게 떨어진다.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1"></a>Adelie    Dream     <span class="fl">37.6</span>          <span class="dv">181</span>            <span class="dv">3300</span>     female   <span class="dv">2007</span></span>
<span id="cb11-2"><a href="#cb11-2"></a>Adelie    Biscoe    <span class="fl">35.3</span>          <span class="dv">187</span>            <span class="dv">3800</span>     female   <span class="dv">2007</span></span>
<span id="cb11-3"><a href="#cb11-3"></a>Adelie    Biscoe    <span class="fl">37.8</span>          <span class="dv">174</span>            <span class="dv">3400</span>     female   <span class="dv">2007</span></span>
<span id="cb11-4"><a href="#cb11-4"></a>Gentoo    Biscoe    <span class="fl">47.4</span>          <span class="dv">212</span>            <span class="dv">4725</span>     female   <span class="dv">2009</span></span>
<span id="cb11-5"><a href="#cb11-5"></a>Gentoo    Biscoe    <span class="fl">49.1</span>          <span class="dv">220</span>            <span class="dv">5150</span>     female   <span class="dv">2008</span></span>
<span id="cb11-6"><a href="#cb11-6"></a>Gentoo    Biscoe    <span class="fl">47.5</span>          <span class="dv">209</span>            <span class="dv">4600</span>     female   <span class="dv">2008</span></span>
<span id="cb11-7"><a href="#cb11-7"></a>Chinstrap Dream     <span class="fl">40.9</span>          <span class="dv">187</span>            <span class="dv">3200</span>     female   <span class="dv">2008</span></span>
<span id="cb11-8"><a href="#cb11-8"></a>Chinstrap Dream     <span class="fl">47.6</span>          <span class="dv">195</span>            <span class="dv">3850</span>     female   <span class="dv">2008</span></span>
<span id="cb11-9"><a href="#cb11-9"></a>Chinstrap Dream     <span class="dv">46</span>            <span class="dv">195</span>            <span class="dv">4150</span>     female   <span class="dv">2007</span></span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section></section><section id="불러오기" class="level3" data-number="25.5.2"><h3 data-number="25.5.2" class="anchored" data-anchor-id="불러오기">
<span class="header-section-number">25.5.2</span> 불러오기</h3>
<section id="탭-구분자-1" class="level4"><h4 class="anchored" data-anchor-id="탭-구분자-1">탭 구분자</h4>
<p><code><a href="https://readr.tidyverse.org/reference/read_delim.html">read_delim()</a></code> 함수에 <code>delim</code> 인자를 <strong>탭</strong>으로 명시하여 탭 구분자 아스키 파일을 불러오는 방법과 <code>read</code>_tsv()` 함수를 사용하는 방법이 있다. 탭 구분자 파일을 불러오는 동일한 기능을 수행하지만 함수명에서 차이가 난다.</p>
<div class="cell">
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">nine_penguins</span> <span class="op">&lt;-</span> </span>
<span>    <span class="co"># read_tsv("data/file/ASCII/nine_penguins.tsv") |&gt; </span></span>
<span>    <span class="fu">read_delim</span><span class="op">(</span><span class="st">"data/file/nine_penguins.txt"</span>, delim <span class="op">=</span> <span class="st">"\t"</span><span class="op">)</span> </span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="csv-구분자-1" class="level4"><h4 class="anchored" data-anchor-id="csv-구분자-1">CSV 구분자</h4>
</section><section id="고정길이-파일-1" class="level4"><h4 class="anchored" data-anchor-id="고정길이-파일-1">고정길이 파일</h4>
<p><code>readr</code> 패키지 <code><a href="https://readr.tidyverse.org/reference/read_fwf.html">read_fwf()</a></code> 함수를 사용하여 고정길이 파일을 불러읽어오는 방식에서 <code>fwf_widths</code> 인자로 각 열의 길이를 지정하고 <code>col_names</code> 인자로 열 이름을 지정한다.</p>
<div class="cell">
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">nine_penguins_fwf</span> <span class="op">&lt;-</span><span class="fu">read_fwf</span><span class="op">(</span><span class="st">"data/file/nine_penguins.fwf"</span>,</span>
<span>                             skip <span class="op">=</span> <span class="fl">0</span>,</span>
<span>         col_positions <span class="op">=</span> <span class="fu">fwf_widths</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">10</span>, <span class="fl">14</span>, <span class="fl">15</span>, <span class="fl">9</span>, <span class="fl">9</span>, <span class="fl">5</span><span class="op">)</span>,</span>
<span>           col_names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"species"</span>, <span class="st">"island"</span>, <span class="st">"bill_length_mm"</span>,</span>
<span>                         <span class="st">"flipper_length_mm"</span>, <span class="st">"body_mass_g"</span>, <span class="st">"sex"</span>, <span class="st">"year"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">nine_penguins_fwf</span></span>
<span><span class="co">#&gt; # A tibble: 9 × 7</span></span>
<span><span class="co">#&gt;   species   island bill_length_mm flipper_length_mm body_mass_g sex     year</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;     &lt;chr&gt;           &lt;dbl&gt;             &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt;  &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 Adelie    Dream            37.6               181        3300 female  2007</span></span>
<span><span class="co">#&gt; 2 Adelie    Biscoe           35.3               187        3800 female  2007</span></span>
<span><span class="co">#&gt; 3 Adelie    Biscoe           37.8               174        3400 female  2007</span></span>
<span><span class="co">#&gt; 4 Gentoo    Biscoe           47.4               212        4725 female  2009</span></span>
<span><span class="co">#&gt; 5 Gentoo    Biscoe           49.1               220        5150 female  2008</span></span>
<span><span class="co">#&gt; 6 Gentoo    Biscoe           47.5               209        4600 female  2008</span></span>
<span><span class="co">#&gt; 7 Chinstrap Dream            40.9               187        3200 female  2008</span></span>
<span><span class="co">#&gt; 8 Chinstrap Dream            47.6               195        3850 female  2008</span></span>
<span><span class="co">#&gt; 9 Chinstrap Dream            46                 195        4150 female  2007</span></span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section></section><section id="공공-데이터" class="level2" data-number="25.6"><h2 data-number="25.6" class="anchored" data-anchor-id="공공-데이터">
<span class="header-section-number">25.6</span> 공공 데이터</h2>
<p>공공데이터포털을 비롯한 많은 정부기관에서 제공하는 데이터는 대부분 <code>EUC-KR</code>로 인코딩되어 있다. 이유는 여러가지가 있겠지만 가장 큰 이유는 아마도 엑셀에서 <code>.csv</code> 파일을 열었을 때 한글이 깨지는 민원을 처리하기 위함이 아닐까 싶다. 정형 <code>.csv</code> 파일 형태로 데이터를 받게 되면 먼저 인코딩을 확인해야 한다. <code>readr</code> 패키지의 <code><a href="https://readr.tidyverse.org/reference/encoding.html">guess_encoding()</a></code> 함수를 사용하면 파일의 인코딩을 확인할 수 있다.</p>
<p>공공데이터포털 <a href="https://www.data.go.kr/data/15048264/fileData.do">인천광역시_정류장별 이용승객 현황</a> 데이터를 다운로드 받아 로컬 파일로 저장한 후 인코딩을 확인한다.</p>
<div class="cell">
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://readr.tidyverse.org">readr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">file_path</span> <span class="op">&lt;-</span> <span class="st">"data/file/인천광역시_정류장별 이용승객 현황_20220630.csv"</span></span>
<span><span class="fu"><a href="https://readr.tidyverse.org/reference/encoding.html">guess_encoding</a></span><span class="op">(</span><span class="va">file_path</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 4 × 2</span></span>
<span><span class="co">#&gt;   encoding confidence</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;         &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 EUC-KR         1   </span></span>
<span><span class="co">#&gt; 2 GB18030        0.81</span></span>
<span><span class="co">#&gt; 3 Big5           0.48</span></span>
<span><span class="co">#&gt; 4 EUC-JP         0.3</span></span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>따라서, 이를 바로 <code><a href="https://readr.tidyverse.org/reference/read_delim.html">read_csv()</a></code> 함수로 읽을 경우 오류가 발생된다. 왜냐하면 <code><a href="https://readr.tidyverse.org/reference/read_delim.html">read_csv()</a></code> 함수는 인코딩을 <code>UTF-8</code>을 기본으로 가정하고 있기 때문이다.</p>
<div class="cell">
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html">read_csv</a></span><span class="op">(</span><span class="va">file_path</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in nchar(x, "width"): invalid multibyte string, element 1</span></span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>따라서, <code><a href="https://readr.tidyverse.org/reference/read_delim.html">read_csv()</a></code> 함수를 사용할 때는 <code>locale</code> 인수를 사용하여 인코딩을 지정해주어야 한다. “EUC-KR”로 인코딩을 지정하면 파일을 오류없이 읽을 수 있다.</p>
<div class="cell">
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">incheon_bus</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/spec.html">spec</a></span><span class="op">(</span><span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html">read_csv</a></span><span class="op">(</span><span class="va">file_path</span>, locale <span class="op">=</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/locale.html">locale</a></span><span class="op">(</span>encoding <span class="op">=</span> <span class="st">"EUC-KR"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">incheon_bus</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/dput.html">dput</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; c("cols", "default", "delim")</span></span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>데이터 가져오기는 데이터 분석의 첫 단계로, 외부 데이터를 R로 불러오는 과정으로 첫단추가 이후 이어질 분석단계에서 중요한 역할을 한다.</p>
<p>먼저, 파일 형식에 따라 적절한 함수를 선택해야 한다. 텍스트 파일은 <code>read.csv</code>, <code>read.table</code> 등의 함수를 사용하고, 엑셀 파일은 <code>readxl</code> 패키지의 <code>read_excel</code> 함수를 사용한다. 특히, 인코딩도 이 단계에서 반듯이 확인해야 한다.</p>
<p>데이터 전처리 단계에서는 구분자와 헤더 유무를 확인하고, 자료형과 칼럼명을 결정해야 한다. 결측값 처리를 위해 <code>na =</code> 옵션을 사용할 수 있고, 필요에 따라 특정 행/열을 선택하는 등의 추가 옵션을 설정할 수 있다.</p>
<p>전처리 과정을 거쳐 최종적으로 데이터프레임을 생성하게 된다. 다소 번거럽더라도 데이터를 가져오는 단계에서 전처리 과정을 충실히 수행하게 되면 이후 <code>dplyr</code>, <code>tidyr</code> 패키지 등을 활용해 다양한 데이터 조작 및 시각화를 수월하게 할 수 있다.</p>
<div class="cell">
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">file_path</span> <span class="op">&lt;-</span> <span class="st">"data/file/인천광역시_정류장별 이용승객 현황_20220630.csv"</span></span>
<span></span>
<span><span class="va">incheon_bus</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html">read_csv</a></span><span class="op">(</span><span class="va">file_path</span>, locale <span class="op">=</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/locale.html">locale</a></span><span class="op">(</span>encoding <span class="op">=</span> <span class="st">"EUC-KR"</span><span class="op">)</span>,</span>
<span>                        skip <span class="op">=</span> <span class="fl">1</span>,</span>
<span>                        na <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"---"</span>, <span class="st">""</span><span class="op">)</span>,</span>
<span>                        col_names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"정류소명"</span>, <span class="st">"정류소_id"</span>, <span class="st">"승차건수_총합계"</span>, </span>
<span>                                     <span class="st">"하차건수_총합계"</span>,<span class="st">"승차건수_카드"</span>, <span class="st">"하차건수_카드"</span>,</span>
<span>                                     <span class="st">"승차건수_현금"</span>, <span class="st">"일평균_승하차건수"</span><span class="op">)</span>,</span>
<span>                       col_types <span class="op">=</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/cols.html">cols</a></span><span class="op">(</span></span>
<span>                         정류소명 <span class="op">=</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/parse_atomic.html">col_character</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>                         정류소_id <span class="op">=</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/parse_atomic.html">col_double</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>                         승차건수_총합계 <span class="op">=</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/parse_atomic.html">col_double</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>                         하차건수_총합계 <span class="op">=</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/parse_atomic.html">col_double</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>                         승차건수_카드 <span class="op">=</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/parse_atomic.html">col_double</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>                         하차건수_카드 <span class="op">=</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/parse_atomic.html">col_double</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>                         승차건수_현금 <span class="op">=</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/parse_atomic.html">col_double</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>                         일평균_승하차건수 <span class="op">=</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/parse_atomic.html">col_double</a></span><span class="op">(</span><span class="op">)</span></span>
<span>                       <span class="op">)</span><span class="op">)</span>  </span>
<span><span class="va">incheon_bus</span></span>
<span><span class="co">#&gt; # A tibble: 6,386 × 8</span></span>
<span><span class="co">#&gt;    정류소명             정류소_id 승차건수_총합계 하차건수_총합계 승차건수_카드</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;                    &lt;dbl&gt;           &lt;dbl&gt;           &lt;dbl&gt;         &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 (구)국제여객터미널       35051              95            1923            21</span></span>
<span><span class="co">#&gt;  2 (구)국제여객터미널          NA            2512              43          2465</span></span>
<span><span class="co">#&gt;  3 (주)경동세라믹스         89146             341              26           335</span></span>
<span><span class="co">#&gt;  4 (주)경인양행앞           42096             945             923           938</span></span>
<span><span class="co">#&gt;  5 (주)경인양행앞           42097            1322            3536          1294</span></span>
<span><span class="co">#&gt;  6 (주)대한특수금속         39050            1243              89          1238</span></span>
<span><span class="co">#&gt;  7 (주)두남                 39135             147              29           147</span></span>
<span><span class="co">#&gt;  8 (주)세모입구(린나이…     37585            1410            1517          1404</span></span>
<span><span class="co">#&gt;  9 (주)세모입구(린나이…     40893             307             556           304</span></span>
<span><span class="co">#&gt; 10 (주)스킨이데아           89388             147             148           147</span></span>
<span><span class="co">#&gt; # ℹ 6,376 more rows</span></span>
<span><span class="co">#&gt; # ℹ 3 more variables: 하차건수_카드 &lt;dbl&gt;, 승차건수_현금 &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   일평균_승하차건수 &lt;dbl&gt;</span></span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>지금까지 작업한 전반적인 작업흐름은 <a href="#fig-public-data-ingest" class="quarto-xref">그림&nbsp;<span>25.3</span></a> 에 대략적으로 나와있다. 공공데이터포털에서 다운로드 받은 <code>인천광역시_정류장별 이용승객 현황_20220630.csv</code>은 EUC-KR로 인코딩 되어 있고 헤더를 갖고 있으며 쉼표로 구분되어 있다. 결측치는 없으나 임의로 <code>---</code> 으로 정류장 한 곳을 달리 표현하여 <code>na = c("---", "")</code>로 결측값 처리를 하였다.</p>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div id="fig-public-data-ingest" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-public-data-ingest-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div>
<pre class="mermaid mermaid-js" data-label="fig-public-data-ingest">graph LR
    subgraph "&lt;strong&gt;파일 형식 결정&lt;/strong&gt;"
    A[파일 형식 결정] --&gt; |"read.csv, read.table 등"| B[인코딩 확인]
    A --&gt; |"readxl::read_excel 등"| B
    end

    subgraph "&lt;strong&gt;데이터 전처리&lt;/strong&gt;"
    C[구분자 확인] --&gt; |"쉼표, 탭 등"| B
    D[헤더 유무] --&gt; |"header = TRUE/FALSE"| B
    B --&gt; E[자료형 및&lt;br&gt; 칼럼명 결정]
    F[결측값 처리] --&gt; |"na 옵션"| E
    G[추가 옵션] --&gt; |"특정 행/열 선택 등"| E
    end

E --&gt; H[데이터프레임&lt;br&gt;생성]

style A fill:#f0f0f0,stroke:#333,stroke-width:2px
style B fill:#f0f0f0,stroke:#333,stroke-width:2px
style C fill:#e0e0e0,stroke:#333,stroke-width:2px
style D fill:#e0e0e0,stroke:#333,stroke-width:2px
style E fill:#d0d0d0,stroke:#333,stroke-width:2px
style F fill:#d0d0d0,stroke:#333,stroke-width:2px
style G fill:#c0c0c0,stroke:#333,stroke-width:2px
style H fill:#c0c0c0,stroke:#333,stroke-width:2px
</pre>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-public-data-ingest-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
그림&nbsp;25.3: 인천광역시 정류장별 이용승객 현황 데이터 데이터프레임 가져오는 과정
</figcaption></figure>
</div>
</div>
</div>
</section><section id="다수-파일" class="level2" data-number="25.7"><h2 data-number="25.7" class="anchored" data-anchor-id="다수-파일">
<span class="header-section-number">25.7</span> 다수 파일</h2>
<p>다수 파일을 불러오는 경우를 상정하기 위해서 먼저 앞서 준비한 <code>nine_penguins</code> 데이터프레임을 재사용한다. <code><a href="https://rdrr.io/r/base/split.html">split()</a></code> 함수로 <code>species</code> 열을 기준으로 <code>nine_penguins</code>를 분할하여 분할된 데이터를 리스트 형태로 <code>penguins_split</code>에 저장한다. <code>here()</code> 함수로 <code>data/file/</code> 폴더의 경로를 <code>data_folder</code> 변수에 저장한다. <code>walk2()</code> 함수로 <code>penguins_split</code> 리스트의 각 요소와 해당 요소의 이름을 순회하면서 <code><a href="https://readr.tidyverse.org/reference/write_delim.html">write_csv()</a></code> 함수를 사용해 각 분할된 데이터프레임을 CSV 파일로 저장한다. 코드 실행 결과, 프로젝트 디렉토리 내의 <code>data/file/</code> 폴더에 <code>penguin_Adelie.csv</code>, <code>penguin_Gentoo.csv</code>, <code>penguin_Chinstrap.csv</code> 파일이 생성되며, 각 파일에는 해당 펭귄 종 3마리 관측점 데이터가 저장된다.</p>
<div class="cell">
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># species로 데이터 분할</span></span>
<span><span class="va">penguins_split</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/split.html">split</a></span><span class="op">(</span><span class="va">nine_penguins</span>, <span class="va">nine_penguins</span><span class="op">$</span><span class="va">species</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 분할된 데이터를 CSV 파일로 저장</span></span>
<span><span class="va">data_folder</span> <span class="op">&lt;-</span> <span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">"data"</span>, <span class="st">"file"</span><span class="op">)</span></span>
<span><span class="fu">walk2</span><span class="op">(</span><span class="va">penguins_split</span>, <span class="fu">str_glue</span><span class="op">(</span><span class="st">"penguin_{names(penguins_split)}"</span><span class="op">)</span>, <span class="op">~</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/write_delim.html">write_csv</a></span><span class="op">(</span><span class="va">.x</span>, <span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="va">data_folder</span>, <span class="fu">str_c</span><span class="op">(</span><span class="va">.y</span>, <span class="st">".csv"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><code><a href="https://rdrr.io/r/base/list.files.html">list.files()</a></code> 함수로 <code>data/file</code> 폴더에 <code>penguin</code>으로 시작하는 <code>.csv</code> 파일 3개를 확인할 수 있다.</p>
<div class="cell">
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/list.files.html">list.files</a></span><span class="op">(</span><span class="va">data_folder</span>, pattern <span class="op">=</span> <span class="st">"^penguin"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "penguin_Adelie.csv"    "penguin_Chinstrap.csv" "penguin_Gentoo.csv"</span></span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>이제 데이터가 준비되었으니 <code>penguin_Adelie.csv</code>, <code>penguin_Gentoo.csv</code>, <code>penguin_Chinstrap.csv</code> 파일을 읽어와서 하나의 데이터프레임으로 만들어보자. 동일한 자료구조를 갖는 아스키 파일은 시도, 시군구 데이터처럼 공간적으로 관리를 위해 구분되거나 일, 월, 분기, 년 처럼 시점을 달리하는 경우 관리 목적으로 구분되어 흔히 접하게 되는 데이터다.</p>
<p><code>data_folder</code> 변수에 CSV 파일들이 저장된 폴더 경로를 지정한다. <code><a href="https://rdrr.io/r/base/list.files.html">list.files()</a></code> 함수로 <code>data_folder</code> 내의 모든 CSV 파일 경로를 <code>csv_files</code> 변수에 저장한다. <code>map_df()</code> 함수로 <code>csv_files</code>의 각 파일 경로에 대해 <code><a href="https://readr.tidyverse.org/reference/read_delim.html">read_csv()</a></code> 함수를 적용하여 CSV 파일을 읽어와 읽어온 데이터프레임으로 결합한다. 코드 실행 결과, <code>data/file/</code> 폴더에 있는 <code>penguin_Adelie.csv</code>, <code>penguin_Gentoo.csv</code>, <code>penguin_Chinstrap.csv</code> 파일을 읽어와서 하나의 데이터프레임으로 결합한 <code>penguins_tbl</code>이 생성되며, 총 9 마리 펭귄 3종의 데이터가 포함되어 있다.</p>
<div class="cell">
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># CSV 파일 경로 지정</span></span>
<span><span class="va">data_folder</span> <span class="op">&lt;-</span> <span class="st">"data/file/"</span></span>
<span><span class="va">csv_files</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.files.html">list.files</a></span><span class="op">(</span><span class="va">data_folder</span>, pattern <span class="op">=</span> <span class="st">"^penguin"</span>, full.names <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># CSV 파일들을 읽어와 데이터프레임 결합</span></span>
<span><span class="va">penguins_tbl</span> <span class="op">&lt;-</span> <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map_dfr.html">map_df</a></span><span class="op">(</span><span class="va">csv_files</span>, <span class="va">read_csv</span><span class="op">)</span></span>
<span></span>
<span><span class="va">penguins_tbl</span></span>
<span><span class="co">#&gt; # A tibble: 9 × 7</span></span>
<span><span class="co">#&gt;   species   island    bill_length_mm flipper_length_mm body_mass_g sex     year</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;     &lt;chr&gt;              &lt;dbl&gt;             &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt;  &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 Adelie    Biscoe              37.8               190        4250 male    2009</span></span>
<span><span class="co">#&gt; 2 Adelie    Torgersen           38.8               191        3275 female  2009</span></span>
<span><span class="co">#&gt; 3 Adelie    Dream               37                 185        3000 female  2007</span></span>
<span><span class="co">#&gt; 4 Chinstrap Dream               45.7               195        3650 female  2009</span></span>
<span><span class="co">#&gt; 5 Chinstrap Dream               52.7               197        3725 male    2007</span></span>
<span><span class="co">#&gt; 6 Chinstrap Dream               50.5               201        4050 male    2007</span></span>
<span><span class="co">#&gt; 7 Gentoo    Biscoe              42                 210        4150 female  2007</span></span>
<span><span class="co">#&gt; 8 Gentoo    Biscoe              50.1               225        5000 male    2008</span></span>
<span><span class="co">#&gt; 9 Gentoo    Biscoe              52.1               230        5550 male    2009</span></span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>


<div class="hidden" aria-hidden="true">
<span class="glightbox-desc lightbox-desc-1">유니코드와 UTF-8</span>
<span class="glightbox-desc lightbox-desc-2">세 가지 인코딩 문제</span>
<span class="glightbox-desc lightbox-desc-3">그림&nbsp;25.1: 제어문자와 출력 가능한 아스키 문자표 알파벳 예시</span>
<span class="glightbox-desc lightbox-desc-4">아스키에서 유니코드로 진화과정</span>
<span class="glightbox-desc lightbox-desc-5">2010 ~ 2012 웹에서 UTF-8 성장세</span>
</div>
</section><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><hr>
<ol>
<li id="fn1"><p>미국정보교환표준부호(American Standard Code for Information Interchange, ASCII)는 영문 알파벳을 사용하는 대표적인 문자 인코딩으로 컴퓨터와 통신 장비를 비롯한 문자를 사용하는 많은 장치에서 사용되며, 대부분의 문자 인코딩이 아스키에 기초하고 있다.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol></section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "복사완료!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "복사완료!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/r2bit\.com\/gpt-ds\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      const annoteTargets = window.document.querySelectorAll('.code-annotation-anchor');
      for (let i=0; i<annoteTargets.length; i++) {
        const annoteTarget = annoteTargets[i];
        const targetCell = annoteTarget.getAttribute("data-target-cell");
        const targetAnnotation = annoteTarget.getAttribute("data-target-annotation");
        const contentFn = () => {
          const content = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          if (content) {
            const tipContent = content.cloneNode(true);
            tipContent.classList.add("code-annotation-tip-content");
            return tipContent.outerHTML;
          }
        }
        const config = {
          allowHTML: true,
          content: contentFn,
          onShow: (instance) => {
            selectCodeLines(instance.reference);
            instance.reference.classList.add('code-annotation-active');
            window.tippy.hideAll();
          },
          onHide: (instance) => {
            unselectCodeLines();
            instance.reference.classList.remove('code-annotation-active');
          },
          maxWidth: 300,
          delay: [50, 0],
          duration: [200, 0],
          offset: [5, 10],
          arrow: true,
          appendTo: function(el) {
            return el.parentElement.parentElement.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto',
          placement: 'right',
          popperOptions: {
            modifiers: [
            {
              name: 'flip',
              options: {
                flipVariations: false, // true by default
                allowedAutoPlacements: ['right'],
                fallbackPlacements: ['right', 'top', 'top-start', 'top-end', 'bottom', 'bottom-start', 'bottom-end', 'left'],
              },
            },
            {
              name: 'preventOverflow',
              options: {
                mainAxis: false,
                altAxis: false
              }
            }
            ]        
          }      
        };
        window.tippy(annoteTarget, config); 
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="./ingest_database.html" class="pagination-link" aria-label="데이터베이스">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">데이터베이스</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./ingest_web.html" class="pagination-link" aria-label="웹 데이터">
        <span class="nav-page-text"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">웹 데이터</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">
<p>챗GPT 데이터 과학 책은 소프트웨어 카펜트리 “R for Reproducible Scientific Analysis”를 번역한 것이 포함되어 있습니다.</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/bit2r/gpt-ds/edit/main/ingest_file.qmd" class="toc-action"><i class="bi bi-github"></i>편집</a></li><li><a href="https://github.com/bit2r/gpt-ds/issues/new" class="toc-action"><i class="bi empty"></i>이슈 보고</a></li></ul></div></div>
    <div class="nav-footer-right">
<p>순수하게 <a href="https://quarto.org/">쿼토(Quarto)</a>로 제작되었습니다.</p>
</div>
  </div>
</footer><script>var lightboxQuarto = GLightbox({"descPosition":"bottom","loop":false,"openEffect":"zoom","selector":".lightbox","closeEffect":"zoom"});
window.onload = () => {
  lightboxQuarto.on('slide_before_load', (data) => {
    const { slideIndex, slideNode, slideConfig, player, trigger } = data;
    const href = trigger.getAttribute('href');
    if (href !== null) {
      const imgEl = window.document.querySelector(`a[href="${href}"] img`);
      if (imgEl !== null) {
        const srcAttr = imgEl.getAttribute("src");
        if (srcAttr && srcAttr.startsWith("data:")) {
          slideConfig.href = srcAttr;
        }
      }
    } 
  });

  lightboxQuarto.on('slide_after_load', (data) => {
    const { slideIndex, slideNode, slideConfig, player, trigger } = data;
    if (window.Quarto?.typesetMath) {
      window.Quarto.typesetMath(slideNode);
    }
  });

};
          </script>


</body></html>